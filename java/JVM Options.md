Как задать параметры Xms и Xmx для памяти кучи?

Для задания минимального и максимального размера кучи используются параметры:
-Xms<heap size>[unit] — минимальный размер.
-Xmx<heap size>[unit] — максимальный размер.
-Xss - установить размер стека Java-потока (java thread stack)
Например, для указания диапазона от 2 ГБ до 5 ГБ:
-Xms2G -Xmx5G

--------------------------------------------------------------------------------------------------------------------

Какие существуют типы сборщиков мусора в JVM?

В JVM доступны следующие реализации сборщиков мусора:
Серийный (-XX:+UseSerialGC)
Параллельный (-XX:+UseParallelGC)
CMS (-XX:+USeParNewGC)
G1 (-XX:+UseG1GC)

--------------------------------------------------------------------------------------------------------------------

Как включить ведение журнала сборщика мусора?

Для записи активности GC можно использовать параметры:
-XX:+UseGCLogFileRotation
-XX:NumberOfGCLogFiles=<number>
-XX:GCLogFileSize=<size>[unit]
-Xloggc:/path/to/gc.log
Пример:
-XX:+UseGCLogFileRotation  
-XX:NumberOfGCLogFiles=10  
-XX:GCLogFileSize=50M  
-Xloggc:/home/user/log/gc.log

--------------------------------------------------------------------------------------------------------------------

Как обработать ошибку OutOfMemoryError?

Для диагностики нехватки памяти можно использовать:
-XX:+HeapDumpOnOutOfMemoryError — сбросить кучу в файл.
-XX:HeapDumpPath=<path> — путь для файла.
-XX:OnOutOfMemoryError="<cmd>" — команда при ошибке.
Пример для перезапуска сервера:
-XX:OnOutOfMemoryError="shutdown -r"

--------------------------------------------------------------------------------------------------------------------

Как задать битность JVM вручную?

Для выбора 64-разрядной среды используйте параметр:
-d64

--------------------------------------------------------------------------------------------------------------------

Как оптимизировать использование строк в Java?

Параметры JVM для оптимизации строк:
-XX:+UseStringDeduplication — уменьшение дублирующихся строк.
-XX:+UseCompressedStrings — использование byte[] для ASCII строк.
-XX:+OptimizeStringConcat — оптимизация конкатенации строк.

--------------------------------------------------------------------------------------------------------------------

Как настроить соотношение памяти для Eden и Survivor?

Используйте параметр:
-XX:SurvivorRatio=<ratio>
Например, -XX:SurvivorRatio=6 задает соотношение 1:6.

--------------------------------------------------------------------------------------------------------------------

Как включить использование больших страниц в памяти?
Для этого используется параметр:
-XX:+UseLargePages
Учтите, что этот параметр может вызвать нестабильность в OpenJDK 7.

--------------------------------------------------------------------------------------------------------------------

Как включить трасировку загрузки классов в JVM?

-XX:+TraceClassLoading и -XX:+TraceClassUnloading - это две опции JVM, которые мы используем для печати информации журналов всякий раз, когда классы загружаются в JVM или выгружаются из JVM. Эти флаги JVM полезны, если у вас есть какой-либо тип утечки памяти, связанный с загрузчиком классов и есть подозрение, что классы не выгружаются или не собирается мусор.