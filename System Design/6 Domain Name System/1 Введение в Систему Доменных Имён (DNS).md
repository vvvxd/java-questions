### **Введение в Систему Доменных Имён (DNS)**

Узнайте, как доменные имена преобразуются в IP-адреса с помощью DNS.

#### Происхождение DNS

Давайте рассмотрим пример мобильного телефона, где с каждым пользователем связан уникальный номер. Чтобы позвонить друзьям, мы сначала можем попытаться запомнить несколько телефонных номеров. Однако по мере роста числа контактов нам придётся использовать телефонную книгу, чтобы отслеживать все контакты. Таким образом, всякий раз, когда нам нужно будет позвонить, мы будем обращаться к телефонной книге и набирать нужный номер.

Аналогичным образом, компьютеры уникально идентифицируются по IP-адресам — например, `104.18.2.119` это IP-адрес. Мы используем IP-адреса для посещения веб-сайта, размещённого на машине. Поскольку людям нелегко запоминать IP-адреса для посещения доменных имён (например, доменное имя `educative.io`), нам необходимо хранилище, подобное телефонной книге, которое может поддерживать все сопоставления доменных имён с IP-адресами. В этой главе мы увидим, как DNS служит «телефонной книгой» Интернета.

![img.png](img/img.png)
*Использование аналогии с телефонной книгой для понимания системы доменных имён (DNS)*

#### Что такое DNS?
Система доменных имён (DNS) — это служба именования в Интернете, которая сопоставляет понятные человеку доменные имена с машиночитаемыми IP-адресами. Служба DNS прозрачна для пользователей. Когда пользователь вводит доменное имя в браузере, браузер должен преобразовать это доменное имя в IP-адрес, обратившись к инфраструктуре DNS. Как только желаемый IP-адрес получен, запрос пользователя перенаправляется на целевой веб-сервер.

Слайды ниже показывают высокоуровневую схему работы DNS:

1.  Пользователь запрашивает посещение веб-сайта, вводя его URL-адрес в браузере.
    ![img_1.png](img/img_1.png)
2.  Браузер запрашивает у интернет-провайдера переадресацию DNS-запроса для разрешения запроса на IP-адрес
![img_2.png](img/img_2.png)
3.  Интернет-провайдер перенаправляет DNS-запрос в инфраструктуру DNS.
![img_3.png](img/img_3.png)
4.  Инфраструктура DNS выдает в ответ список IP-адресов, соответствующих доменному имени.
![img_4.png](img/img_4.png)
5.  IP-адреса передаются браузеру.
![img_5.png](img/img_5.png)
6.  Браузер отправляет HTTP-запрос на полученный IP-адрес
![img_6.png](img/img_6.png)
7.  Интернет-провайдер перенаправляет HTTP-запрос на веб-сервер.
![img_7.png](img/img_7.png)
Вся операция выполняется очень быстро. Поэтому конечный пользователь испытывает минимальную задержку. В следующем уроке мы также увидим, как браузеры сохраняют некоторые часто используемые сопоставления для последующего использования.
 
**Расположите шаги DNS-запроса в правильной последовательности:**

> 1.  Браузер получает IP-адрес и подключается к веб-серверу.
> 2.  Браузер запрашивает инфраструктуру DNS для разрешения доменного имени.
> 3.  Пользователь вводит доменное имя в браузере.
> 4.  DNS-сервер имён отвечает IP-адресом.
<details>
<summary>Ответ</summary>
3 -> 2 -> 4 -> 1
</details>

---

#### Важные детали
Давайте выделим некоторые важные детали о DNS, часть из которых мы рассмотрим в следующем уроке:

*   **Серверы имён:** Важно понимать, что DNS — это не один-единственный сервер. Это целая инфраструктура с многочисленными серверами. DNS-серверы, отвечающие на запросы пользователей, называются **серверами имён**.

*   **Ресурсные записи (RR):** База данных DNS хранит сопоставления доменных имён и IP-адресов в виде **ресурсных записей (RR)**. RR — это наименьшая единица информации, которую пользователи запрашивают у серверов имён. Существуют различные типы RR. В таблице ниже описаны распространённые типы RR. Три важных элемента информации — это **тип**, **имя** и **значение**. Имя и значение меняются в зависимости от типа RR.

| Распространённые типы ресурсных записей | | | |
| :--- | :--- | :--- | :--- |
| **Тип** | **Описание** | **Имя** | **Значение** |
| A | Обеспечивает сопоставление имени хоста с IP-адресом | Имя хоста | IP-адрес |
| NS | Указывает имя хоста, который является авторитетным DNS-сервером для домена | Доменное имя | Имя хоста |
| CNAME | Обеспечивает сопоставление псевдонима с каноническим именем хоста | Имя хоста | Каноническое имя |
| MX | Обеспечивает сопоставление почтового сервера от псевдонима к каноническому имени хоста | Имя хоста | Каноническое имя |

*   **Кэширование:** DNS использует кэширование на разных уровнях, чтобы уменьшить задержку ответа на запрос для пользователя. Кэширование играет важную роль в снижении нагрузки на инфраструктуру DNS, поскольку ей приходится обслуживать запросы всего Интернета.
*   **Иерархия:** DNS-серверы имён имеют иерархическую структуру. Иерархическая структура позволяет DNS быть высокомасштабируемой в условиях роста её размера и нагрузки от запросов. В следующем уроке мы рассмотрим, как древовидная структура используется для управления всей базой данных DNS.

Давайте рассмотрим детали вышеуказанных пунктов более подробно в следующем уроке для большей ясности.