# ACID-транзакции
Давайте рассмотрим свойства ACID.

ACID — это набор свойств традиционных транзакций базы данных, которые предоставляют гарантии ожидаемого поведения транзакций при ошибках, сбоях питания и т. д. Более конкретно, эти свойства следующие.

# Атомность (А)
Атомарность гарантирует, что транзакция, включающая несколько операций, рассматривается как единое целое. Это означает, что либо выполняются все операции транзакции, либо ни одна из них.

Эта концепция атомарности распространяется на распределенные системы, где системе может потребоваться выполнить одну и ту же операцию в нескольких узлах системы атомарным образом. Таким образом, операция либо выполняется для всех узлов, либо ни для одного.

# Консистенция (С)
Согласованность гарантирует, что транзакция только переводит базу данных из одного допустимого состояния в другое допустимое состояние, сохраняя любые инварианты базы данных. Однако эти инварианты являются специфическими для приложения и определяются каждым приложением соответствующим образом.

Например, рассмотрим приложение, которое имеет таблицу A с записями, которые ссылаются на записи в таблице B через отношение внешнего ключа . База данных не позволяет транзакции удалить запись из таблицы A, если только какие-либо записи в таблице B, на которые ссылается эта запись, уже не удалены.

Обратите внимание, что это не та концепция согласованности, которую мы имеем в виду в контексте распределенных систем.

# Изоляция (I)
Изоляция гарантирует, что даже если транзакции выполняются одновременно и имеют зависимости от данных, результат будет таким, как если бы одна из них выполнялась в один момент времени и между ними не было помех. Это предотвращает большое количество аномалий.

# Прочность (D)
Долговечность гарантирует, что после совершения транзакции она останется совершенной даже в случае сбоя.

В контексте централизованных систем с одним узлом это обычно означает, что завершенные транзакции и их результаты записываются в энергонезависимую память.

В контексте распределенных систем это означает, что транзакции должны надежно храниться на нескольких узлах. Таким образом, восстановление возможно даже при наличии полных отказов узла, а также его хранилищ.



